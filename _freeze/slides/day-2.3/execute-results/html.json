{
  "hash": "2bccf705bc3198dc77bc6ee707951786",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Accessibility and Color Schemes\ndate: today\ndate-format: long\nfooter: \"[DataViz 6502 Website](https://dataviz-esia.training)\"\nlogo: images/dataviz-logo.png\nformat:\n  revealjs:\n    theme: [simple, custom.scss]\n    transition: fade\n    slide-number: true\n    multiplex: true\n    chalkboard: true\nexecute:\n  echo: false\n  message: false\n  warning: false\n  freeze: auto\n---\n\n::: {.cell}\n\n:::\n\n\n## Color Blindness\n\n<br>\n\n- Color Vision Deficiency (CVD) or color blindness affects 8 percent of men and 1 in 200 women\n- There are different types of CVD but most common is red-green color blindness\n- Therefore, don't include red and green in the same chart! \n- Look for color blind safe palettes\n\n## Last Week's Line Chart\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/line_chart-1.png){width=960}\n:::\n:::\n\n\n## Last Week's Line Chart\n\n<br>\n\nCreate last week's line chart and save as an object...\n\n<br?\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndem_waves_ctrs <- read_csv(\"https://raw.githubusercontent.com/eteitelbaum/dataviz-fall-2023/main/slides/data/dem_waves_ctrs.csv\")\n\ndem_waves_chart <- ggplot(dem_waves_ctrs, aes(x = year, y = polyarchy, color = country)) +\n  geom_line(linewidth = 1) + # our geom is a line with a width of 1\n  labs(\n    x = \"Year\", \n    y = \"Polyarchy Score\", \n    title = 'Democracy in countries representing three different \"waves\"', \n    caption = \"Source: V-Dem Institute\", \n    color = \"Country\" # make title of legend to upper case\n  )\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"setup\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">02</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## CVD Plot\n\n<br>\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/cvdPlot_output-1.png){width=960}\n:::\n:::\n\n\n## CVD Plot\n\n<br> \n\nCall ``cvdPlot()` from the `colorBlindness` package. CVD stands for \"color vision deficiency.\" Pass **plot object** that you saved into `cvdPlot()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(colorBlindness)\n\ncvdPlot(dem_waves_chart)\n```\n:::\n\n\n## CVD Plot\n\n<br>\n\nClick on little image to expand view... \n\n![](images/expand_view.png){fig-align=\"center\"}\n\n## Your Turn!\n\n<br>\n\n- Take your `dem_waves_chart` object and run `cvdPlot()` on it\n- Expand the window and have a good look\n- Which group would have the toughest time reading this graph?\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"dem_waves\" data-update-every=\"1\" tabindex=\"0\" style=\"right:10%;bottom:10%;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">02</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## Create Your Own Color Scheme\n\n<br>\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/your_own_palette1-1.png){width=960}\n:::\n:::\n\n\n\n## Create Your Own Color Scheme\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncb_palette <- c(\"#E69F00\", \"#56B4E9\", \"#009E73\", \"#F0E442\", \"#0072B2\", \"#D55E00\", \"#CC79A7\")\n\nflfp_region <- ggplot(flfp_gdp_regions, aes(x = reorder(iso3c, -flfp), y = flfp, fill = region)) +\n  geom_col() + \n  scale_y_continuous(labels = scales::label_percent(scale = 1)) +\n  labs(\n    x = \"Region\", \n    y = \"Avg. Female Labor Force Participation\", \n    title = \"Levels of female labor force participation by region\", \n    fill = \"Region\",\n    caption = \"Source: World Bank\"\n    ) \n\nflfp_region + scale_fill_manual(values = cb_palette)\n```\n:::\n\n\n## Create Your Own Color Scheme\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"1,14\"}\ncb_palette <- c(\"#E69F00\", \"#56B4E9\", \"#009E73\", \"#F0E442\", \"#0072B2\", \"#D55E00\", \"#CC79A7\")\n\nflfp_region <- ggplot(flfp_gdp_regions, aes(x = reorder(iso3c, -flfp), y = flfp, fill = region)) +\n  geom_col() + \n  scale_y_continuous(labels = scales::label_percent(scale = 1)) +\n  labs(\n    x = \"Region\", \n    y = \"Avg. Female Labor Force Participation\", \n    title = \"Levels of female labor force participation by region\", \n    fill = \"Region\",\n    caption = \"Source: World Bank\"\n    ) \n\nflfp_region + scale_fill_manual(values = cb_palette)\n```\n:::\n\n\n## Your Turn!\n\n- Go to [Module 2.2](https://dataviz-esia.training/modules/module-2.2) on the course website\n- Do the setup steps\n- Reproduce the column chart of FLFP with the custom color scheme\n- Try changing one of the [hex codes](https://htmlcolorcodes.com/)\n- Now run `cvdPlot()` on the plot object to make sure it is color-blind friendly\n- Now try a [Barbie theme](https://www.color-hex.com/color-palette/13479) or [GW colors](https://communications.gwu.edu/visual-identity/color-palette)\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"dem_waves\" data-update-every=\"1\" tabindex=\"0\" style=\"right:5%;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">10</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## Using a Color Palette\n\n<br>\n\n- There are many color palettes \n- Viridis scales look cool and are accessible\n- ColorBrewer has many scales some of which are color-blind safe\n- The [paletteer](https://emilhvitfeldt.github.io/paletteer/) package aims to be a comprehensive collection of color palettes\n\n## Viridis\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflfp_region + scale_fill_viridis_d()\n```\n\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/viridis1-1.png){width=960}\n:::\n:::\n\n\n## Viridis\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflfp_region <-flfp_region + scale_fill_viridis_d()\ncvdPlot(flfp_region)\n```\n\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/viridis2-1.png){width=960}\n:::\n:::\n\n\n## ColorBrewer\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflfp_region + scale_fill_brewer(palette = \"YlGn\")\n```\n\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/color_brewer1-1.png){width=960}\n:::\n:::\n\n\n## ColorBrewer\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflfp_region <- flfp_region + scale_fill_brewer(palette = \"YlGn\")\ncvdPlot(flfp_region)\n```\n\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/color_brewer2-1.png){width=960}\n:::\n:::\n\n\n## Paletteer\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(paletteer)\n\nflfp_region + scale_fill_paletteer_d(\"rcartocolor::Temps\")\n```\n\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/paletteer1-1.png){width=960}\n:::\n:::\n\n\n## Paletteer\n\nNot all palettes are color-blind safe... \n\n\n::: {.cell}\n\n```{.r .cell-code}\nflfp_region <- flfp_region + scale_fill_paletteer_d(\"rcartocolor::Temps\")\ncvdPlot(flfp_region)\n```\n\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/paletteer2-1.png){width=960}\n:::\n:::\n\n\n## Paletteer\n\nAnd some many not have enough colors for your chart...\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(paletteer)\n\nflfp_region + scale_fill_paletteer_d(\"beyonce::X1\") \n```\n\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/Paletteer3-1.png){width=960}\n:::\n:::\n\n\n## Your Turn\n\n<br>\n\n- Try one of the color palettes packages we just discussed\n- Google the reference documents for details on schemes\n- For paletteer, check out this [paletteer gallery](https://pmassicotte.github.io/paletteer_gallery/)\n- For ColorBrewer, check out this [selector tool](https://colorbrewer2.org/#type=sequential&scheme=BuGn&n=3)\n- A full list of viridis schemes is [here](https://search.r-project.org/CRAN/refmans/viridisLite/html/viridis.html)\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"palette_package\" data-update-every=\"1\" tabindex=\"0\" style=\"right:5%;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">10</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n\n## Scaling for Scatter Plots\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/scatterplot1-1.png){width=960}\n:::\n:::\n\n\n## Scaling for Scatter Plots\n\nUse `scale_color_viridis_d` instead of `scale_fill_viridis_d`. \n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"13\"}\nwealth_flfp <- ggplot(flfp_gdp, aes(x = gdp_pc, y = flfp)) + \n  geom_point(aes(color = region)) + # color points by region\n  geom_smooth(method = \"loess\", linewidth = 1) +  # make the line a loess curve\n  scale_x_log10(labels = scales::label_dollar()) + # stretch axis, add '$' format\n  scale_y_continuous(labels = scales::label_percent(scale = 1)) + # add % label\n  labs(\n    x= \"GDP per Capita\", # x-axis title\n    y = \"Female Labor Force Participation\", # y-axis title\n    title = \"Wealth and female labor force participation\", # plot title\n    caption = \"Source: World Bank Development Indicators\", # caption\n    color = \"Region\" # legend title\n    )\n\nwealth_flfp + scale_color_viridis_d(option = \"plasma\")\n```\n:::\n\n\n## Scaling for Scatter Plots\n\nUse the `end` argument to darken the colors\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwealth_flfp + scale_color_viridis_d(option = \"plasma\", end = .7)\n```\n\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/unnamed-chunk-22-1.png){width=960}\n:::\n:::\n\n\n## Scaling for Scatter Plots\n\nUse the `direction` argument to flip the color scale... \n\n\n::: {.cell}\n\n```{.r .cell-code}\nwealth_flfp + scale_color_viridis_d(option = \"plasma\", direction = -1)\n```\n\n::: {.cell-output-display}\n![](day-2.3_files/figure-revealjs/unnamed-chunk-23-1.png){width=960}\n:::\n:::\n\n\n## Your Turn! \n\n<br>\n\n- Try using one of the color schemes on a scatter plot\n- Use `scale_color_` instead of `scale_fill_`\n- Play around with `end` and `direction` arguments in `viridis`\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"scatter_plot\" data-update-every=\"1\" tabindex=\"0\" style=\"right:5%;bottom:10%;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">10</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n",
    "supporting": [
      "day-2.3_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}